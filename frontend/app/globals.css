@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ===== THEME: WARM ALABASTER (Paper) ===== */
    /* Warm, eye-friendly tones that mimic physical paper for long sessions */

    /* Background: Subtle warm cream (Alabaster) - absorbs light instead of emitting it */
    --background: 35 30% 98%;                     /* Warm cream/alabaster */
    --foreground: 20 10% 20%;                     /* Soft warm charcoal */

    /* Cards: Pure white to pop against the cream background */
    --card: 0 0% 100%;                            /* Pure white */
    --card-foreground: 20 10% 20%;                /* Warm charcoal */

    /* Popovers & Dropdowns */
    --popover: 0 0% 100%;                         /* Pure white */
    --popover-foreground: 20 10% 20%;             /* Warm charcoal */

    /* Primary Interactive - Keep brand identity */
    --primary: 217.2 32.6% 17.5%;                 /* Slate-800: Button background */
    --primary-foreground: 210 40% 98%;            /* Slate-50: Light text on dark */

    /* Secondary Interactive - Warm Beige */
    --secondary: 35 20% 94%;                      /* Warm beige */
    --secondary-foreground: 217.2 32.6% 17.5%;    /* Slate-800 */

    /* Muted/Disabled - Warm Grays */
    --muted: 30 15% 94%;                          /* Warm gray */
    --muted-foreground: 25 5% 45%;                /* Warm muted text */

    /* Accent (Hover States) */
    --accent: 35 20% 94%;                         /* Warm beige */
    --accent-foreground: 217.2 32.6% 17.5%;       /* Slate-800 */

    /* Destructive */
    --destructive: 0 84.2% 60.2%;                 /* Red for destructive actions */
    --destructive-foreground: 210 40% 98%;        /* Slate-50 */

    /* Borders & Inputs - Warm Taupe (critical for the "Soft" look) */
    --border: 30 12% 88%;                         /* Warm taupe */
    --input: 30 12% 88%;                          /* Warm taupe */
    --ring: 217.2 32.6% 17.5%;                    /* Slate-800 */

    /* Success State */
    --success: 142.1 76.2% 36.3%;                 /* Green for success */
    --success-foreground: 210 40% 98%;            /* Slate-50 */

    /* Warning State */
    --warning: 32.1 94.6% 43.7%;                  /* Amber for warnings */
    --warning-foreground: 217.2 32.6% 17.5%;      /* Slate-800 */

    /* Info State */
    --info: 221.2 83.2% 53.3%;                    /* Blue for info */
    --info-foreground: 210 40% 98%;               /* Slate-50 */

    /* Radius */
    --radius: 0.5rem;

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

    /* Shadow Color - Warm Taupe (The "Golden" Shadow) */
    --shadow-color: 30 20% 82%;                   /* Warm taupe */

    /* Chart Colors */
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }

  .dark {
    /* ===== THEME: WARM DARK (Espresso) ===== */
    /* Warm dark tones that complement the light mode alabaster theme */

    /* Background: Deep warm grey (Espresso) */
    --background: 20 10% 10%;                     /* Warm espresso */
    --foreground: 35 10% 90%;                     /* Warm light grey */

    /* Surface/Card Layer */
    --card: 20 10% 12%;                           /* Slightly lighter espresso */
    --card-foreground: 35 10% 90%;                /* Warm light grey */

    /* Popovers & Dropdowns */
    --popover: 20 10% 12%;                        /* Slightly lighter espresso */
    --popover-foreground: 35 10% 90%;             /* Warm light grey */

    /* Primary Interactive */
    --primary: 210 40% 98%;                       /* Slate-50: Button background */
    --primary-foreground: 217.2 32.6% 17.5%;      /* Slate-800: Dark text on light */

    /* Secondary Interactive */
    --secondary: 20 10% 16%;                      /* Warm dark grey */
    --secondary-foreground: 210 40% 98%;          /* Slate-50 */

    /* Muted/Disabled States */
    --muted: 20 10% 16%;                          /* Warm dark grey */
    --muted-foreground: 25 5% 60%;                /* Warm muted text */

    /* Accent (Hover States) */
    --accent: 20 10% 16%;                         /* Warm dark grey */
    --accent-foreground: 210 40% 98%;             /* Slate-50 */

    /* Destructive */
    --destructive: 0 62.8% 50%;                   /* Red for destructive actions */
    --destructive-foreground: 210 40% 98%;        /* Slate-50 */

    /* Borders */
    --border: 20 10% 18%;                         /* Warm border */
    --input: 20 10% 18%;                          /* Warm input */
    --ring: 20 10% 18%;                           /* Warm focus ring */

    /* Success State */
    --success: 142.1 70.6% 45.3%;                 /* Brighter green for dark backgrounds */
    --success-foreground: 210 40% 98%;            /* Slate-50 */

    /* Warning State */
    --warning: 32.1 94.6% 43.7%;                  /* Amber for warnings */
    --warning-foreground: 217.2 32.6% 17.5%;      /* Slate-800 */

    /* Info State */
    --info: 221.2 83.2% 53.3%;                    /* Blue for info */
    --info-foreground: 210 40% 98%;               /* Slate-50 */

    /* Shadows - Stronger for visibility */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5);

    /* Shadow Color - Dark mode needs black for visibility */
    --shadow-color: 0 0% 0%;                      /* Black */

    /* Chart Colors */
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  /* ===== Shadow System for Depth Hierarchy ===== */

  /* Light Mode Shadows - Warm taupe shadows with softer opacity */
  .shadow-soft {
    box-shadow: 0 2px 4px -1px hsl(var(--shadow-color) / 0.4),
                0 1px 2px -1px hsl(var(--shadow-color) / 0.3);
  }

  .shadow-card {
    box-shadow: 0 10px 15px -3px hsl(var(--shadow-color) / 0.3),
                0 4px 6px -4px hsl(var(--shadow-color) / 0.2);
  }

  .shadow-elevated {
    box-shadow: 0 12px 20px -4px hsl(var(--shadow-color) / 0.35),
                0 6px 10px -5px hsl(var(--shadow-color) / 0.25);
  }

  .shadow-floating {
    box-shadow: 0 20px 25px -5px hsl(var(--shadow-color) / 0.35),
                0 8px 10px -6px hsl(var(--shadow-color) / 0.2);
  }

  /* Dark Mode Shadows - Much stronger and more visible */
  .dark .shadow-soft {
    box-shadow: 0 2px 4px 0 rgb(0 0 0 / 0.8),
                0 1px 3px 0 rgb(0 0 0 / 0.6);
  }

  .dark .shadow-card {
    box-shadow: 0 6px 12px -2px rgb(0 0 0 / 0.9),
                0 3px 7px -3px rgb(0 0 0 / 0.7),
                inset 0 0 0 1px rgba(255, 255, 255, 0.05);  /* Subtle inner glow */
  }

  .dark .shadow-elevated {
    box-shadow: 0 12px 20px -4px rgb(0 0 0 / 0.95),
                0 6px 10px -5px rgb(0 0 0 / 0.8),
                inset 0 0 0 1px rgba(255, 255, 255, 0.08);
  }

  .dark .shadow-floating {
    box-shadow: 0 24px 38px -6px rgb(0 0 0 / 1),
                0 12px 18px -8px rgb(0 0 0 / 0.9),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  /* Override Tailwind's default shadow-md in dark mode */
  .dark .shadow-md {
    box-shadow: 0 6px 12px -2px rgb(0 0 0 / 0.9),
                0 3px 7px -3px rgb(0 0 0 / 0.7),
                inset 0 0 0 1px rgba(255, 255, 255, 0.05) !important;
  }

  .dark .shadow-lg {
    box-shadow: 0 12px 20px -4px rgb(0 0 0 / 0.95),
                0 6px 10px -5px rgb(0 0 0 / 0.8),
                inset 0 0 0 1px rgba(255, 255, 255, 0.08) !important;
  }

  /* ===== Input Interactive States (Dark Mode) ===== */
  .dark input[type="text"],
  .dark input[type="email"],
  .dark input[type="password"],
  .dark input[type="date"],
  .dark textarea {
    background-color: hsl(215.3 19.3% 34.5%);  /* slate-600: Input fields (default) */
    border-color: hsl(215 20.2% 65.1%);        /* slate-400: Borders */
  }

  .dark input[type="text"]:hover,
  .dark input[type="email"]:hover,
  .dark input[type="password"]:hover,
  .dark input[type="date"]:hover,
  .dark textarea:hover {
    background-color: hsl(215.4 16.3% 46.9%);  /* slate-500: Input hover state */
  }

  .dark input[type="text"]:focus,
  .dark input[type="email"]:focus,
  .dark input[type="password"]:focus,
  .dark input[type="date"]:focus,
  .dark textarea:focus {
    background-color: hsl(215.4 16.3% 46.9%);  /* slate-500: Input hover state */
    border-color: hsl(215 20.2% 65.1%);        /* slate-400: Borders */
  }

  /* ===== Table Fixes ===== */
  /* Prevent text cursor blinking in tables */
  table, table * {
    cursor: default !important;
    caret-color: transparent !important;
  }

  /* ===== Sub-component Elevation ===== */
  /* Add subtle shadows to muted sections to create depth */
  .bg-muted,
  .bg-muted\/50 {
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05),
                0 1px 1px 0 rgb(0 0 0 / 0.03);
  }

  /* Stronger shadows in dark mode */
  .dark .bg-muted,
  .dark .bg-muted\/50 {
    box-shadow: 0 2px 4px 0 rgb(0 0 0 / 0.5),
                0 1px 2px 0 rgb(0 0 0 / 0.4);
  }

  /* ===== Badge Dark Mode Support ===== */
  /* Switch badge colors in dark mode */
  .dark span[style*="--badge-bg-light"] {
    background-color: var(--badge-bg-dark) !important;
    color: var(--badge-color-dark) !important;
    border-color: var(--badge-border-dark) !important;
  }

  /* ===== Threshold Dot Dark Mode Support ===== */
  /* Switch threshold status dot colors in dark mode */
  .dark div[style*="--dot-color-light"] {
    background-color: var(--dot-color-dark) !important;
  }

  /* ===== Banner Dark Mode Support ===== */
  /* Switch banner background and border in dark mode */
  .dark div[style*="--banner-bg-light"] {
    background-color: var(--banner-bg-dark) !important;
    border-color: var(--banner-border-dark) !important;
  }

  /* ===== Premium Paper Texture (Grainy Gradient) ===== */
  .bg-grainy {
    position: relative;
    background-color: hsl(var(--background));
  }

  /* The Noise Layer */
  .bg-grainy::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    /* SVG Turbulence Filter for Noise */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    /* Mask fades the noise out at the edges for softness */
    mask-image: radial-gradient(circle at center, black, transparent 80%);
  }

  /* Light Mode: Golden Hour / Warm Ambient Glow */
  .bg-grainy::after {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -2;
    background: radial-gradient(
      circle at 50% 0%,
      hsl(45 50% 70% / 0.12) 0%,
      transparent 60%
    );
  }

  /* Dark Mode Adjustments */
  .dark .bg-grainy::before {
    opacity: 0.25; /* Slightly more visible grain on dark */
  }

  .dark .bg-grainy::after {
    background: radial-gradient(
      circle at 50% 0%,
      hsl(40 30% 20% / 0.3) 0%,
      transparent 70%
    );
  }
}
